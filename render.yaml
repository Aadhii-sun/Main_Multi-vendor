services:
  - type: web
    name: ego-store-backend
    env: node
    region: oregon
    rootDir: backend
    buildCommand: npm install --production=false
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 5000
      # Add these in Render Dashboard:
      # MONGO_URI=your_mongodb_connection_string
      # JWT_SECRET=your_jwt_secret_min_32_chars
      # CLIENT_URL=https://your-frontend-url.onrender.com
      # EMAIL_USER=your_email@gmail.com (optional)
      # EMAIL_PASS=your_app_password (optional)
      # STRIPE_SECRET_KEY=your_stripe_key (optional)
      # STRIPE_WEBHOOK_SECRET=your_webhook_secret (optional)

  - type: web
    name: ego-store-frontend
    env: static
    region: oregon
    rootDir: frontend
    buildCommand: npm install && npm run build
    staticPublishPath: dist
    envVars:
      - key: NODE_ENV
        value: production
      # Add this in Render Dashboard:
      # VITE_API_URL=https://ego-store-backend.onrender.com
